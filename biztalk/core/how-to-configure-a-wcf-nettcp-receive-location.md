---
title: "How to Configure a WCF-NetTcp Receive Location | Microsoft Docs"
ms.custom: ""
ms.date: "06/08/2017"
ms.prod: "biztalk-server"
ms.reviewer: ""

ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 937862ca-14cb-4eda-8176-38c15423679e
caps.latest.revision: 15
author: "MandiOhlinger"
ms.author: "mandia"
manager: "anneta"
---
# How to Configure a WCF-NetTcp Receive Location
You can configure a WCF-NetTcp receive location either programmatically or by using the BizTalk Administration console.  

## Configuration properties

 The BizTalk Explorer Object Model enables you to create and configure receive locations programmatically. The BizTalk Explorer Object Model exposes the**IReceiveLocation** receive location configuration interface that has a **TransportTypeData** read/write property. This property accepts a WCF-NetTcp receive location configuration property bag in the form of a name-value pair of XML strings. To set this property in the BizTalk Explorer Object Model, you must set the **InboundTransportLocation** property of the **IReceiveLocation** interface.  

 The **TransportTypeData** property of the **IReceiveLocation** interface does not have to be set. If it is not set, the WCF-NetTcp adapter uses the default values for the WCF-NetTcp receive location configuration as indicated in the following table.  

 The following table lists the configuration properties that you can set in the BizTalk Explorer Object Model for the WCF-NetTcp receive location.  


|                  Property name                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                Description                                                                                                                                                                                                                                                                                                                                                                                |
|-------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            <strong>Identity</strong>            |                                                                                                                                                                                                                                                                                                                                                                                                                                                          XML Blob<br /><br /> Example:<br /><br /> &lt;identity&gt;<br /><br /> &lt;userPrincipalName value="username@contoso.com" /&gt;<br /><br /> &lt;/identity&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                   Specify the identity of the service that this receive location provides. The values that can be specified for the <strong>Identity</strong> property differ according to the security configuration. These settings enable the client to authenticate this receive location. In the handshake process between the client and service, the Windows Communication Foundation (WCF) infrastructure will ensure that the identity of the expected service matches the values of this element.<br /><br /> The default is an empty string.                                                                                                                   |
|          <strong>OpenTimeout</strong>           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <strong>System.TimeSpan</strong>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                           Specify a time span value that indicates the interval of time provided for a channel open operation to complete.<br /><br /> Default value: 00:01:00                                                                                                                                                                                                                                                                                                            |
|          <strong>SendTimeout</strong>           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <strong>System.TimeSpan</strong>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                               Specify a time span value that indicates the interval of time provided for a send operation to complete. If you use a request-response receive port, this value specifies a time span for the whole interaction to complete, even if the client returns a large message.<br /><br /> Default value: 00:01:00                                                                                                                                                                                                                                |
|          <strong>CloseTimeout</strong>          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <strong>System.TimeSpan</strong>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                           Specify a time span value that indicates the interval of time provided for a channel close operation to complete.<br /><br /> Default value: 00:01:00                                                                                                                                                                                                                                                                                                           |
|     <strong>MaxReceivedMessageSize</strong>     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                               Specify the maximum size, in bytes, for a message (including headers) that can be received on the wire. The size of the messages is bounded by the amount of memory allocated for each message. You can use this property to limit exposure to denial of service (DoS) attacks.<br /><br /> The WCF-NetTcp adapter leverages the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087) class in the buffered transfer mode to communicate with an endpoint. For the buffered transport mode, the [NetTcpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=81088) property is always equal to the value of this property.<br /><br /> Default value: 65536                                               |
|       <strong>EnableTransaction</strong>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Specify whether a message is submitted to the MessageBox database using the transaction flowed from clients. If this property is set to <strong>True</strong>, the clients are required to submit messages using thetransaction protocol specified in the <strong>TransactionProtocol</strong> property. If the clients submit messages outside the transactional scope then this receive location returns an exception back to the clients, and no messages are suspended.<br /><br /> The option is available only for one-way receive locations. If the clients submit messages in a transactional context for request-response receive locations, then an exception is returned back to the clients and no messages are suspended.<br /><br /> Default value: `False` |
|      <strong>TransactionProtocol</strong>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Enum<br /><br /> -   <strong>OleTransaction</strong><br />-   <strong>WS-AtomicTransaction</strong>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                    Specify the transaction protocol to be used with this receive location.<br /><br /> Default value: <strong>OleTransaction</strong>                                                                                                                                                                                                                                                                                                                     |
|          <strong>LeaseTimeout</strong>          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <strong>System.TimeSpan</strong>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                Specify the maximum lifetime of an active pooled connection. After the specified time elapses, the connection closes after the current request is serviced.<br /><br /> The WCF-NetTcp adapter leverages the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087) class to communicate with an endpoint. When using the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087) in load-balanced scenarios, consider reducing the default lease time-out. For more information about load balancing when using the [NetTcpBinding](http://go.microsoft.com/fwlink/?LinkId=81087), see the appropriate topic in See Also.<br /><br /> Default value: 00:05:00                                                |
|       <strong>MaxConcurrentCalls</strong>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                   Specify the number of concurrent calls to a single service instance. Calls in excess of the limit are queued. The range of this property is from 1 to Int32.MaxValue.<br /><br /> Default value: 200                                                                                                                                                                                                                                                                                    |
|          <strong>SecurityMode</strong>          |                                                                                                                                                                                                                                                                           Enum<br /><br /> -   <strong>None</strong><br />-   <strong>Message</strong><br />-   <strong>Transport</strong><br />-   <strong>TransportWithMessageCredential</strong><br /><br /> For more information about the member names for the <strong>SecurityMode</strong> property, see the <strong>Security mode</strong> property in the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Security</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                     Specify the type of security that is used.<br /><br /> Default value: <strong>Transport</strong>                                                                                                                                                                                                                                                                                                                                      |
| <strong>TransportClientCredentialType</strong>  |                                                                                                                                                                                                                                                                                    Enum<br /><br /> -   <strong>None</strong><br />-   <strong>Windows</strong><br />-   <strong>Certificate</strong><br /><br /> For more information about the member names for the <strong>TransportClientCredentialType</strong> property, see the <strong>Transport client credential type</strong> property in the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Security</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                 Specify the type of credential to be used when performing the client authentication.<br /><br /> Default value: <strong>Windows</strong>                                                                                                                                                                                                                                                                                                                  |
|    <strong>TransportProtectionLevel</strong>    |                                                                                                                                                                                                                                                                                                                                                                                                                                          Enum<br /><br /> -   <strong>None</strong>: No protection.<br />-   <strong>Sign</strong>: Messages are signed.<br />-   <strong>EncryptAndSign</strong>: Messages are encrypted and signed.                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                           Define security at the level of the TCP transport. Signing messages mitigates the risk of a third party tampering with the message while it is being transferred. Encryption provides data-level privacy during transport.<br /><br /> Default value: <strong>EncryptAndSign</strong>                                                                                                                                                                                                                                           |
|  <strong>MessageClientCredentialType</strong>   |                                                                                                                                                                                                                                                                     Enum<br /><br /> -   <strong>None</strong><br />-   <strong>Windows</strong><br />-   <strong>UserName</strong><br />-   <strong>Certificate</strong><br /><br /> For more information about the member names for the <strong>MessageClientCredentialType</strong> property, see the <strong>Message client credential type</strong> property in the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Security</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                     Specify the type of credential to be used when performing client authentication using message-based security.<br /><br /> Default value: <strong>Windows</strong>                                                                                                                                                                                                                                                                                                     |
|         <strong>AlgorithmSuite</strong>         |                                                                                                                                                                                                                                                                                                                                                           Enum<br /><br /> For more information about the member names for the <strong>AlgorithmSuite</strong> property, see the <strong>Algorithm suite</strong> property in the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Security</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                          Specify the message encryption and key-wrap algorithms. These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.<br /><br /> Default value: <strong>Basic256</strong>                                                                                                                                                                                                                                                                          |
|       <strong>ServiceCertificate</strong>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     String                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                           Specify the thumbprint of the X.509 certificate for this receive location that the clients use to authenticate the service. The certificate to be used for this property must be installed into the <strong>My</strong> store in the <strong>Current User</strong> location. <strong>Note:</strong>  You must install the service certificate into the <strong>Current User</strong> location of the user account for the receive handler hosting this receive location. <br /><br /> The default is an empty string.                                                                                                                           |
|             <strong>UseSSO</strong>             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                               Specify whether to use Enterprise Single Sign-On (SSO) to retrieve client credentials to issue an SSO ticket. For more information about the security configurations supporting SSO, see the section, "Enterprise Single Sign-On Supportability for the WCF-NetTcp Receive Adapter" in the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Security</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].                                                                                                                                               |
|      <strong>InboundBodyLocation</strong>       | Enum<br /><br /> -   <strong>UseBodyElement</strong> - Use the content of the SOAP <strong>Body</strong> element of an incoming message to create the BizTalk message body part. If the <strong>Body</strong> element has more than one child element, only the first element becomes the BizTalk message body part.<br />-   <strong>UseEnvelope</strong> - Create the BizTalk message body part from the entire SOAP <strong>Envelope</strong> of an incoming message.<br />-   <strong>UseBodyPath</strong> - Use the body path expression in the <strong>InboundBodyPathExpression</strong> property to create the BizTalk message body part. The body path expression is evaluated against the immediate child element of the SOAP <strong>Body</strong> element of an incoming message. This property is valid only for solicit-response ports.<br /><br /> For more information about how to use the <strong>InboundBodyLocation</strong> property, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md). |                                                                                                                                                                                                                                                                                                        Specify the data selection for the SOAP <strong>Body</strong> element of incoming WCF messages.<br /><br /> Default value: <strong>UseBodyElement</strong>                                                                                                                                                                                                                                                                                                         |
|   <strong>InboundBodyPathExpression</strong>    |                                                                                                                                                                                                                                                                                                                                                                                                                          String<br /><br /> For more information about how to use the <strong>InboundBodyPathExpression</strong> property, see [WCF Adapters Property Schema and Properties](../core/wcf-adapters-property-schema-and-properties.md).                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                 Specify the body path expression to identify a specific part of an incoming message used to create the BizTalk message body part. This body path expression is evaluated against the immediate child element of the SOAP <strong>Body</strong> node of an incoming message. If this body path expression returns more than one node, only the first node is chosen for the BizTalk message body part. This property is required if the <strong>InboundBodyLocation</strong> property is set to <strong>UseBodyPath</strong>.<br /><br /> The default is an empty string.                                                                                                  |
|      <strong>InboundNodeEncoding</strong>       |                                                                                                                                                                                                                                                                                                                                               Enum<br /><br /> -   <strong>Base64</strong> - Base64 encoding.<br />-   <strong>Hex</strong> - Hexadecimal encoding.<br />-   <strong>String</strong> - Text encoding - UTF-8.<br />-   <strong>XML</strong> - The WCF adapters create the BizTalk message body with the outer XML of the node selected by the body path expression in <strong>InboundBodyPathExpression</strong>.                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                      Specify the type of encoding that the WCF-NetTcp receive adapter uses to decode the node identified by the body path expression specified in <strong>InboundBodyPathExpression</strong>. This property is required if the <strong>InboundBodyLocation</strong> property is set to <strong>UseBodyPath</strong>.<br /><br /> Default value: <strong>XML</strong>                                                                                                                                                                                                      |
|      <strong>OutboundBodyLocation</strong>      |                                                                                                                                                                                                                 Enum<br /><br /> -   <strong>UseBodyElement</strong> - Use the BizTalk message body part to create the content of the SOAP <strong>Body</strong> element for an outgoing response message.<br />-   <strong>UseTemplate</strong> - Use the template supplied in the <strong>OutboundXMLTemplate</strong> property to create the content of the SOAP <strong>Body</strong> element for an outgoing response message.<br /><br /> For more information about how to use the <strong>OutboundBodyLocation</strong> property, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                      Specify the data selection for the SOAP <strong>Body</strong> element of outgoing WCF messages. This property is valid only for request-response receive locations.<br /><br /> Default value: <strong>UseBodyElement</strong>                                                                                                                                                                                                                                                                       |
|      <strong>OutboundXMLTemplate</strong>       |                                                                                                                                                                                                                                                                                                                                                                                                                        String<br /><br /> For more information about how to use the <strong>OutboundXMLTemplate</strong> property, see [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md).                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                   Specify the XML-formatted template for the content of the SOAP <strong>Body</strong> element of an outgoing response message. This property is required if the <strong>OutboundBodyLocation</strong> property is set to <strong>UseTemplate</strong>. This property is valid only for request-response receive locations.<br /><br /> The default is an empty string.                                                                                                                                                                                                   |
|    <strong>SuspendMessageOnFailure</strong>     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                           Specify whether to suspend the request message that fails inbound processing due to a receive pipeline failure or a routing failure.<br /><br /> Default value: <strong>True</strong>                                                                                                                                                                                                                                                                                           |
| <strong>IncludeExceptionDetailInFaults</strong> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Boolean                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                             Specify whether to include managed exception information in the detail of SOAP faults returned to the client for debugging purposes.<br /><br /> Default: <strong>False</strong>                                                                                                                                                                                                                                                                                              |

## Configure a WCF-NetTcp Receive Location with the BizTalk Administration Console

 You can set WCF-NetTcp receive location adapter variables in the BizTalk Administration console. If properties are not set in the receive location, the default receive handler values set in the BizTalk Administration console are used.  

> [!NOTE]
>  Before completing the following procedure you must have already added a receive port. For more information, see [How to Create a Receive Port](../core/how-to-create-a-receive-port.md).  

## Configure variables for a WCF-NetTcp receive location  

1. In the BizTalk Administration console, expand **BizTalk Server 2009 Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to create a receive location in.  

2. In the BizTalk Administration console, in the left pane, click the **Receive Port** node. Then in the right pane, right-click the receive port that is associated with an existing receive location or that you want to associate with a new receive location, and then click **Properties**.  

3. In the **Receive Port Properties** dialog box, in the left pane, select **Receive Locations**, and then in the right pane, double-click an existing receive location or click **New**to create a new receive location.  

4. In the **Receive Location Properties** dialog box, in the **Transport** section next to **Type**, select **WCF-NetTcp** from the drop-down list, and then click **Configure**.  

5. In the <strong>WCF-NetTcp Transport Properties</strong> dialog box, on the <strong>General</strong> tab, configure the endpoint address and the service identity for the WCF-NetTcp receive location. For more information about the <strong>General</strong> tab in the <strong>WCF-NetTcp Transport Properties</strong> dialog box, see the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, General</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].  

6. In the <strong>WCF-NetTcp Transport Properties</strong> dialog box, on the <strong>Binding</strong> tab, configure the time-out and transaction properties. For more information about the <strong>Binding</strong> tab in the <strong>WCF-NetTcp Transport Properties</strong> dialog box, see the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Binding</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].

7. In the <strong>WCF-NetTcp Transport Properties</strong> dialog box, on the <strong>Security</strong> tab, define the security capabilities of the WCF-NetTcp receive location. For more information about the <strong>Security</strong> tab in the <strong>WCF-NetTcp Transport Properties</strong> dialog box, see the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Security</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].

8. In the <strong>WCF-NetTcp Transport Properties</strong> dialog box, on the <strong>Messages</strong> tab, specify the data selection for the SOAP <strong>Body</strong> element. For more information about the <strong>Messages</strong> tab in the <strong>WCF-NetTcp Transport Properties</strong> dialog box, see the <strong>WCF-NetTcp Transport Properties Dialog Box, Receive, Messages</strong> tab [!INCLUDE [ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].

## Configure a WCF-NetTcp Receive Location Programmatically

 You can use the following format to set the properties:  

```  
<CustomProps>  
  <InboundBodyPathExpression vt="8" />  
  <InboundBodyLocation vt="8">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt="11">0</UseSSO>  
  <MessageClientCredentialType vt="8">Windows</MessageClientCredentialType>  
  <SendTimeout vt="8">00:01:00</SendTimeout>  
  <OutboundXmlTemplate vt="8"><bts-msg-body xmlns="http://www.microsoft.com/schemas/bts2007" encoding="xml"/></OutboundXmlTemplate>  
  <OpenTimeout vt="8">00:01:00</OpenTimeout>  
  <AlgorithmSuite vt="8">Basic256</AlgorithmSuite>  
  <SecurityMode vt="8">Message</SecurityMode>  
  <TransportClientCredentialType vt="8">Windows</TransportClientCredentialType>  
  <MaxReceivedMessageSize vt="3">2097152</MaxReceivedMessageSize>  
  <CloseTimeout vt="8">00:01:00</CloseTimeout>  
  <SuspendMessageOnFailure vt="11">0</SuspendMessageOnFailure>  
  <EnableTransaction vt="11">0</EnableTransaction>  
  <InboundNodeEncoding vt="8">Xml</InboundNodeEncoding>  
  <IncludeExceptionDetailInFaults vt="11">0</IncludeExceptionDetailInFaults>  
  <MaxConcurrentCalls vt="3">16</MaxConcurrentCalls>  
  <ServiceCertificate vt="8" />  
  <OutboundBodyLocation vt="8">UseBodyElement</OutboundBodyLocation>  
</CustomProps>  

```  

 The following code fragment illustrates creating a WCF-NetTcp receive location:  

```  
// Use BizTalk Explorer object model to create new WCF-NetTcp receive location   
string server = System.Environment.MachineName;  
string database = "BizTalkMgmtDb";  
string connectionString = string.Format("Server={0};Database={1};Integrated Security=true", server, database);  
string transportConfigData = @"<CustomProps>  
  <InboundBodyLocation vt=""8"">UseBodyElement</InboundBodyLocation>  
  <UseSSO vt=""11"">0</UseSSO>  
  <Identity vt=""8"">  
    <identity>  
    <userPrincipalName value=""username@contoso.com"" />  
    </identity>  
  </Identity>  
</CustomProps>";  
//requires project reference to \Program Files\Microsoft BizTalk Server 2009\Developer Tools\Microsoft.BizTalk.ExplorerOM.dll  
BtsCatalogExplorer explorer = new Microsoft.BizTalk.ExplorerOM.BtsCatalogExplorer();  
explorer.ConnectionString = connectionString;  
// Add a new BizTalk application  
Application application = explorer.AddNewApplication();  
application.Name = "SampleBizTalkApplication";  
// Save  
explorer.SaveChanges();  

// Add a new one-way receive port  
IReceivePort receivePort = application.AddNewReceivePort(false);  
receivePort.Name = "SampleReceivePort";  
// Add a new one-way receive location  
IReceiveLocation recieveLocation = receivePort.AddNewReceiveLocation();  
recieveLocation.Name = "SampleReceiveLocation";  
// Find a receive handler for WCF-NetTcp   
int i = 0;  
for(i=0; i < explorer.ReceiveHandlers.Count; ++i)   
{  
    if("WCF-NetTcp" == explorer.ReceiveHandlers[i].TransportType.Name)  
        break;  
}  
recieveLocation.ReceiveHandler = explorer.ReceiveHandlers[i];  
recieveLocation.Address = "net.tcp://mycomputer/samplepath";  
recieveLocation.ReceivePipeline = explorer.Pipelines["Microsoft.BizTalk.DefaultPipelines.PassThruReceive"];  
recieveLocation.TransportType = explorer.ProtocolTypes["WCF-NetTcp"];  
recieveLocation.TransportTypeData = transportConfigData;  
// Save  
explorer.SaveChanges();   
```  

## See Also  
 [Publishing Service Metadata for the WCF Receive Adapters](../core/publishing-service-metadata-for-the-wcf-receive-adapters.md)   
 [Managing BizTalk Hosts and Host Instances](../core/managing-biztalk-hosts-and-host-instances.md)   
 [How to Change Service Accounts and Passwords](../core/how-to-change-service-accounts-and-passwords.md)   
 [Installing Certificates for the WCF Adapters](../core/installing-certificates-for-the-wcf-adapters.md)   
 [Specifying the Message Body for the WCF Adapters](../core/specifying-the-message-body-for-the-wcf-adapters.md)   
 [Load Balancing](http://go.microsoft.com/fwlink/?LinkId=81089)   
 [Configuring the WCF-NetTcp Adapter](../core/configuring-the-wcf-nettcp-adapter.md)